(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"8gNO":function(Ue,T,l){"use strict";l.r(T);var se=l("IzEo"),ne=l("bx4M"),$=l("7Kak"),D=l("9yH6"),x=l("9kvl"),W=l("q1tI"),d=l.n(W),B=l("ucLW"),t=l("B6XH"),X=l("UXoT"),F=function(L){var K=L.dropdownGroup,j=L.salesType,A=L.loading,k=L.salesPieData,ve=L.handleChangeSalesType;return d.a.createElement(ne.a,{loading:A,className:X.a.salesCard,bordered:!1,title:d.a.createElement(x.a,{id:"dashboardandanalysis.analysis.the-proportion-of-sales",defaultMessage:"The Proportion of Sales"}),style:{height:"100%"},extra:d.a.createElement("div",{className:X.a.salesCardExtra},K,d.a.createElement("div",{className:X.a.salesTypeRadio},d.a.createElement(D.a.Group,{value:j,onChange:ve},d.a.createElement(D.a.Button,{value:"all"},d.a.createElement(x.a,{id:"dashboardandanalysis.channel.all",defaultMessage:"ALL"})),d.a.createElement(D.a.Button,{value:"online"},d.a.createElement(x.a,{id:"dashboardandanalysis.channel.online",defaultMessage:"Online"})),d.a.createElement(D.a.Button,{value:"stores"},d.a.createElement(x.a,{id:"dashboardandanalysis.channel.stores",defaultMessage:"Stores"})))))},d.a.createElement("div",null,d.a.createElement("h4",{style:{marginTop:8,marginBottom:32}},d.a.createElement(x.a,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"})),d.a.createElement(B.g,{hasLegend:!0,subTitle:d.a.createElement(x.a,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"}),total:function(){return d.a.createElement(t.a,null,k.reduce(function(de,fe){return fe.y+de},0))},data:k,valueFormat:function(de){return d.a.createElement(t.a,null,de)},height:248,lineWidth:4})))};T.default=F},B6XH:function(Ue,T,l){"use strict";l.d(T,"a",function(){return B});var se=l("1OyB"),ne=l("vuIU"),$=l("Ji7U"),D=l("LK+K"),x=l("q1tI"),W=l.n(x),d=l("ucLW"),B=function(t){Object($.a)(F,t);var X=Object(D.a)(F);function F(){var R;Object(se.a)(this,F);for(var L=arguments.length,K=new Array(L),j=0;j<L;j++)K[j]=arguments[j];return R=X.call.apply(X,[this].concat(K)),R.main=null,R.renderToHtml=function(){var A=R.props.children;R.main&&(R.main.innerHTML=Object(d.i)(A))},R}return Object(ne.a)(F,[{key:"componentDidMount",value:function(){this.renderToHtml()}},{key:"componentDidUpdate",value:function(){this.renderToHtml()}},{key:"render",value:function(){var L=this;return W.a.createElement("span",{ref:function(j){L.main=j}})}}]),F}(W.a.Component)},ucLW:function(Ue,T,l){"use strict";l.d(T,"i",function(){return Fe}),l.d(T,"a",function(){return le}),l.d(T,"g",function(){return Ae}),l.d(T,"e",function(){return Me}),l.d(T,"d",function(){return Te}),l.d(T,"f",function(){return be}),l.d(T,"b",function(){return Re}),l.d(T,"c",function(){return xe}),l.d(T,"h",function(){return We});var se=l("ZhIB"),ne=l.n(se),$=l("1OyB"),D=l("vuIU"),x=l("Ji7U"),W=l("LK+K"),d=l("yP6+"),B=l("q1tI"),t=l.n(B),X=l("9/5/"),F=l.n(X),R=l("wx14");function L(f){var n=f.style;n.height="100%";var c=parseInt("".concat(getComputedStyle(f).height),10),e=parseInt("".concat(getComputedStyle(f).paddingTop),10)+parseInt("".concat(getComputedStyle(f).paddingBottom),10);return c-e}function K(f){if(!f)return 0;var n=f,c=L(n),e=n.parentNode;return e&&(c=L(e)),c}function j(){return function(f){var n=function(c){Object(x.a)(a,c);var e=Object(W.a)(a);function a(){var u;Object($.a)(this,a);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return u=e.call.apply(e,[this].concat(i)),u.state={computedHeight:0},u.root=void 0,u.handleRoot=function(h){u.root=h},u}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var o=this.props.height;if(!o){var i=K(this.root);this.setState({computedHeight:i}),i<1&&(i=K(this.root),this.setState({computedHeight:i}))}}},{key:"render",value:function(){var o=this.props.height,i=this.state.computedHeight,s=o||i;return t.a.createElement("div",{ref:this.handleRoot},s>0&&t.a.createElement(f,Object(R.a)({},this.props,{height:s})))}}]),a}(t.a.Component);return n}}var A=j,k={miniChart:"miniChart___132EF",chartContent:"chartContent___2bnF8",chartLoading:"chartLoading___1MB4M"},ve=function(f){Object(x.a)(c,f);var n=Object(W.a)(c);function c(){var e;Object($.a)(this,c);for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];return e=n.call.apply(n,[this].concat(u)),e.state={autoHideXLabels:!1},e.root=void 0,e.node=void 0,e.resize=F()(function(){if(!e.node||!e.node.parentNode)return;var i=e.node.parentNode.clientWidth,s=e.props,h=s.data,m=h===void 0?[]:h,_=s.autoLabel,r=_===void 0?!0:_;if(!r)return;var E=m.length*30,p=e.state.autoHideXLabels;i<=E?p||e.setState({autoHideXLabels:!0}):p&&e.setState({autoHideXLabels:!1})},500),e.handleRoot=function(i){e.root=i},e.handleRef=function(i){e.node=i},e}return Object(D.a)(c,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var a=this.props,u=a.height,o=u===void 0?1:u,i=a.title,s=a.forceFit,h=s===void 0?!0:s,m=a.data,_=a.color,r=_===void 0?"rgba(24, 144, 255, 0.85)":_,E=a.padding,p=this.state.autoHideXLabels,v={x:{type:"cat"},y:{min:0}},C=["x*y",function(O,U){return{name:O,value:U}}];return t.a.createElement("div",{className:k.chart,style:{height:o},ref:this.handleRoot},t.a.createElement("div",{ref:this.handleRef},i&&t.a.createElement("h4",{style:{marginBottom:20}},i),t.a.createElement(d.Chart,{scale:v,height:i?o-41:o,forceFit:h,data:m,padding:E||"auto"},t.a.createElement(d.Axis,{name:"x",title:!1,label:p?void 0:{},tickLine:p?void 0:{}}),t.a.createElement(d.Axis,{name:"y",min:0}),t.a.createElement(d.Tooltip,{showTitle:!1,crosshairs:!1}),t.a.createElement(d.Geom,{type:"interval",position:"x*y",color:r,tooltip:C}))))}}]),c}(B.Component),le=A()(ve),de=l("IzEo"),fe=l("bx4M"),Pe=l("Ff2n"),ce=l("rePB"),Se=l("TSYQ"),ue=l.n(Se),M={chartCard:"chartCard___3TM4T",chartTop:"chartTop___3iur-",chartTopMargin:"chartTopMargin___24rCR",chartTopHasMargin:"chartTopHasMargin___3AQNY",metaWrap:"metaWrap___3Nuv1",avatar:"avatar___FoC4K",meta:"meta___1_3lt",action:"action___3uuUN",total:"total___D6PP7",content:"content___yyFJS",contentFixed:"contentFixed___3tZUw",footer:"footer___2Huhb",footerMargin:"footerMargin___38Y2F"},$e=function(n){if(!n&&n!==0)return null;var c;switch(typeof n){case"undefined":c=null;break;case"function":c=t.a.createElement("div",{className:M.total},n());break;default:c=t.a.createElement("div",{className:M.total},n)}return c},Be=function(f){Object(x.a)(c,f);var n=Object(W.a)(c);function c(){var e;Object($.a)(this,c);for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];return e=n.call.apply(n,[this].concat(u)),e.renderContent=function(){var i=e.props,s=i.contentHeight,h=i.title,m=i.avatar,_=i.action,r=i.total,E=i.footer,p=i.children,v=i.loading;return v?!1:t.a.createElement("div",{className:M.chartCard},t.a.createElement("div",{className:ue()(M.chartTop,Object(ce.a)({},M.chartTopMargin,!p&&!E))},t.a.createElement("div",{className:M.avatar},m),t.a.createElement("div",{className:M.metaWrap},t.a.createElement("div",{className:M.meta},t.a.createElement("span",{className:M.title},h),t.a.createElement("span",{className:M.action},_)),$e(r))),p&&t.a.createElement("div",{className:M.content,style:{height:s||"auto"}},t.a.createElement("div",{className:s&&M.contentFixed},p)),E&&t.a.createElement("div",{className:ue()(M.footer,Object(ce.a)({},M.footerMargin,!p))},E))},e}return Object(D.a)(c,[{key:"render",value:function(){var a=this.props,u=a.loading,o=u===void 0?!1:u,i=a.contentHeight,s=a.title,h=a.avatar,m=a.action,_=a.total,r=a.footer,E=a.children,p=Object(Pe.a)(a,["loading","contentHeight","title","avatar","action","total","footer","children"]);return t.a.createElement(fe.a,Object(R.a)({loading:o,bodyStyle:{padding:"20px 24px 8px 24px"}},p),this.renderContent())}}]),c}(t.a.Component),Re=Be,Ee={field:"field___2ZfpN",label:"label___1hOvq",number:"number___2qklC"},ze=function(n){var c=n.label,e=n.value,a=Object(Pe.a)(n,["label","value"]);return t.a.createElement("div",Object(R.a)({className:Ee.field},a),t.a.createElement("span",{className:Ee.label},c),t.a.createElement("span",{className:Ee.number},e))},xe=ze,Oe=d.Guide.Arc,Ie=d.Guide.Html,ge=d.Guide.Line,He=function(n){switch(n){case"2":return"\u5DEE";case"4":return"\u4E2D";case"6":return"\u826F";case"8":return"\u4F18";default:return""}};d.Shape.registerShape&&d.Shape.registerShape("point","pointer",{drawShape:function(n,c){var e=n.points[0];e=this.parsePoint(e);var a=this.parsePoint({x:0,y:0});return c.addShape("line",{attrs:{x1:a.x,y1:a.y,x2:e.x,y2:e.y,stroke:n.color,lineWidth:2,lineCap:"round"}}),c.addShape("circle",{attrs:{x:a.x,y:a.y,r:6,stroke:n.color,lineWidth:3,fill:"#fff"}})}});var Ge=function(n){var c=n.title,e=n.height,a=e===void 0?1:e,u=n.percent,o=n.forceFit,i=o===void 0?!0:o,s=n.formatter,h=s===void 0?He:s,m=n.color,_=m===void 0?"#2F9CFF":m,r=n.bgColor,E=r===void 0?"#F0F2F5":r,p={value:{type:"linear",min:0,max:10,tickCount:6,nice:!0}},v=[{value:u/10}],C=function(){return`
    <div style="width: 300px;text-align: center;font-size: 12px!important;">
      <div style="font-size: 14px; color: rgba(0,0,0,0.43);margin: 0;">`.concat(c,`</div>
      <div style="font-size: 24px;color: rgba(0,0,0,0.85);margin: 0;">
        `).concat((v[0].value*10).toFixed(2),`%
      </div>
    </div>`)},O={fontSize:12,fill:"rgba(0, 0, 0, 0.65)",textAlign:"center"};return t.a.createElement(d.Chart,{height:a,data:v,scale:p,padding:[-16,0,16,0],forceFit:i},t.a.createElement(d.Coord,{type:"polar",startAngle:-1.25*Math.PI,endAngle:.25*Math.PI,radius:.8}),t.a.createElement(d.Axis,{name:"1",line:void 0}),t.a.createElement(d.Axis,{line:void 0,tickLine:void 0,subTickLine:void 0,name:"value",zIndex:2,label:{offset:-12,formatter:h,textStyle:O}}),t.a.createElement(d.Guide,null,t.a.createElement(ge,{start:[3,.905],end:[3,.85],lineStyle:{stroke:_,lineDash:void 0,lineWidth:2}}),t.a.createElement(ge,{start:[5,.905],end:[5,.85],lineStyle:{stroke:_,lineDash:void 0,lineWidth:3}}),t.a.createElement(ge,{start:[7,.905],end:[7,.85],lineStyle:{stroke:_,lineDash:void 0,lineWidth:3}}),t.a.createElement(Oe,{start:[0,.965],end:[10,.965],style:{stroke:E,lineWidth:10}}),t.a.createElement(Oe,{start:[0,.965],end:[v[0].value,.965],style:{stroke:_,lineWidth:10}}),t.a.createElement(Ie,{position:["50%","95%"],html:C()})),t.a.createElement(d.Geom,{line:!1,type:"point",position:"value*1",shape:"pointer",color:_,active:!1}))},Xe=A()(Ge),Q=l("VTBJ"),Ke=function(n){var c=n.height,e=c===void 0?1:c,a=n.data,u=a===void 0?[]:a,o=n.forceFit,i=o===void 0?!0:o,s=n.color,h=s===void 0?"rgba(24, 144, 255, 0.2)":s,m=n.borderColor,_=m===void 0?"#1089ff":m,r=n.scale,E=r===void 0?{x:{},y:{}}:r,p=n.borderWidth,v=p===void 0?2:p,C=n.line,O=n.xAxis,U=n.yAxis,P=n.animate,g=P===void 0?!0:P,y=[36,5,30,5],b={x:Object(Q.a)({type:"cat",range:[0,1]},E.x),y:Object(Q.a)({min:0},E.y)},w=["x*y",function(Z,I){return{name:Z,value:I}}],z=e+54;return t.a.createElement("div",{className:k.miniChart,style:{height:e}},t.a.createElement("div",{className:k.chartContent},e>0&&t.a.createElement(d.Chart,{animate:g,scale:b,height:z,forceFit:i,data:u,padding:y},t.a.createElement(d.Axis,Object(R.a)({key:"axis-x",name:"x",label:null,line:null,tickLine:null,grid:null},O)),t.a.createElement(d.Axis,Object(R.a)({key:"axis-y",name:"y",label:null,line:null,tickLine:null,grid:null},U)),t.a.createElement(d.Tooltip,{showTitle:!1,crosshairs:!1}),t.a.createElement(d.Geom,{type:"area",position:"x*y",color:h,tooltip:w,shape:"smooth",style:{fillOpacity:1}}),C?t.a.createElement(d.Geom,{type:"line",position:"x*y",shape:"smooth",color:_,size:v,tooltip:!1}):t.a.createElement("span",{style:{display:"none"}}))))},Te=A()(Ke),ke=function(n){var c=n.height,e=c===void 0?0:c,a=n.forceFit,u=a===void 0?!0:a,o=n.color,i=o===void 0?"#1890FF":o,s=n.data,h=s===void 0?[]:s,m={x:{type:"cat"},y:{min:0}},_=[36,5,30,5],r=["x*y",function(p,v){return{name:p,value:v}}],E=e+54;return t.a.createElement("div",{className:k.miniChart,style:{height:e}},t.a.createElement("div",{className:k.chartContent},t.a.createElement(d.Chart,{scale:m,height:E,forceFit:u,data:h,padding:_},t.a.createElement(d.Tooltip,{showTitle:!1,crosshairs:!1}),t.a.createElement(d.Geom,{type:"interval",position:"x*y",color:i,tooltip:r}))))},Me=A()(ke),mt=l("5Dmo"),we=l("3S7+"),he={miniProgress:"miniProgress___3yUqh",progressWrap:"progressWrap___30TXc",progress:"progress___1zvIk",target:"target___3JhFm"},Je=function(n){var c=n.targetLabel,e=n.target,a=n.color,u=a===void 0?"rgb(19, 194, 194)":a,o=n.strokeWidth,i=n.percent;return t.a.createElement("div",{className:he.miniProgress},t.a.createElement(we.a,{title:c},t.a.createElement("div",{className:he.target,style:{left:e?"".concat(e,"%"):void 0}},t.a.createElement("span",{style:{backgroundColor:u||void 0}}),t.a.createElement("span",{style:{backgroundColor:u||void 0}}))),t.a.createElement("div",{className:he.progressWrap},t.a.createElement("div",{className:he.progress,style:{backgroundColor:u||void 0,width:i?"".concat(i,"%"):void 0,height:o||void 0}})))},be=Je,_t=l("/zsF"),Ve=l("PArb"),De=l("cQSq"),Le=l.n(De),Ye=l("Jssm"),Qe=l.n(Ye),S={pie:"pie___100kF",chart:"chart___3VSQ_",hasLegend:"hasLegend___1f2RE",legend:"legend___1fksY",dot:"dot___1yQVs",line:"line___30HIM",legendTitle:"legendTitle___3I_bd",percent:"percent___2pnFx",value:"value___WdIUL",title:"title___3-ziG",total:"total___2NcRJ",legendBlock:"legendBlock___K32fb"},Ze=function(f){Object(x.a)(c,f);var n=Object(W.a)(c);function c(){var e;Object($.a)(this,c);for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];return e=n.call.apply(n,[this].concat(u)),e.state={legendData:[],legendBlock:!1},e.requestRef=void 0,e.root=void 0,e.chart=void 0,e.resize=F()(function(){var i=e.props.hasLegend,s=e.state.legendBlock;if(!i||!e.root){window.removeEventListener("resize",e.resize);return}e.root&&e.root.parentNode&&e.root.parentNode.clientWidth<=380?s||e.setState({legendBlock:!0}):s&&e.setState({legendBlock:!1})},400),e.getG2Instance=function(i){e.chart=i,requestAnimationFrame(function(){e.getLegendData(),e.resize()})},e.getLegendData=function(){if(!e.chart)return;var i=e.chart.getAllGeoms()[0];if(!i)return;var s=i.get("dataArray")||[],h=s.map(function(m){var _=m[0]._origin;return _.color=m[0].color,_.checked=!0,_});e.setState({legendData:h})},e.handleRoot=function(i){e.root=i},e.handleLegendClick=function(i,s){var h=i;h.checked=!h.checked;var m=e.state.legendData;m[s]=h;var _=m.filter(function(r){return r.checked}).map(function(r){return r.x});e.chart&&e.chart.filter("x",function(r){return _.indexOf("".concat(r))>-1}),e.setState({legendData:m})},e}return Object(D.a)(c,[{key:"componentDidMount",value:function(){var a=this;window.addEventListener("resize",function(){a.requestRef=requestAnimationFrame(function(){return a.resize()})},{passive:!0})}},{key:"componentDidUpdate",value:function(a){var u=this.props.data;u!==a.data&&this.getLegendData()}},{key:"componentWillUnmount",value:function(){this.requestRef&&window.cancelAnimationFrame(this.requestRef),window.removeEventListener("resize",this.resize),this.resize&&this.resize.cancel()}},{key:"render",value:function(){var a,u=this,o=this.props,i=o.valueFormat,s=o.subTitle,h=o.total,m=o.hasLegend,_=m===void 0?!1:m,r=o.className,E=o.style,p=o.height,v=p===void 0?0:p,C=o.forceFit,O=C===void 0?!0:C,U=o.percent,P=o.color,g=o.inner,y=g===void 0?.75:g,b=o.animate,w=b===void 0?!0:b,z=o.colors,Z=o.lineWidth,I=Z===void 0?1:Z,ee=this.state,me=ee.legendData,_e=ee.legendBlock,te=ue()(S.pie,r,(a={},Object(ce.a)(a,S.hasLegend,!!_),Object(ce.a)(a,S.legendBlock,_e),a)),J=this.props,Ce=J.data,re=J.selected,q=re===void 0?!0:re,H=J.tooltip,oe=H===void 0?!0:H,V=Ce||[],G=q,Y=oe,pe=z;V=V||[],G=G||!0,Y=Y||!0;var ae,ct={x:{type:"cat",range:[0,1]},y:{min:0}};(U||U===0)&&(G=!1,Y=!1,ae=function(ie){return ie==="\u5360\u6BD4"?P||"rgba(24, 144, 255, 0.85)":"#F0F2F5"},V=[{x:"\u5360\u6BD4",y:parseFloat("".concat(U))},{x:"\u53CD\u6BD4",y:100-parseFloat("".concat(U))}]);var ut=["x*percent",function(N,ie){return{name:N,value:"".concat((ie*100).toFixed(2),"%")}}],ht=[12,0,12,0],je=new De.DataView;return je.source(V).transform({type:"percent",field:"y",dimension:"x",as:"percent"}),t.a.createElement("div",{ref:this.handleRoot,className:te,style:E},t.a.createElement(Qe.a,{maxFontSize:25},t.a.createElement("div",{className:S.chart},t.a.createElement(d.Chart,{scale:ct,height:v,forceFit:O,data:je,padding:ht,animate:w,onGetG2Instance:this.getG2Instance},!!Y&&t.a.createElement(d.Tooltip,{showTitle:!1}),t.a.createElement(d.Coord,{type:"theta",innerRadius:y}),t.a.createElement(d.Geom,{style:{lineWidth:I,stroke:"#fff"},tooltip:Y?ut:void 0,type:"intervalStack",position:"percent",color:["x",U||U===0?ae:pe],selected:G})),(s||h)&&t.a.createElement("div",{className:S.total},s&&t.a.createElement("h4",{className:"pie-sub-title"},s),h&&t.a.createElement("div",{className:"pie-stat"},typeof h=="function"?h():h)))),_&&t.a.createElement("ul",{className:S.legend},me.map(function(N,ie){return t.a.createElement("li",{key:N.x,onClick:function(){return u.handleLegendClick(N,ie)}},t.a.createElement("span",{className:S.dot,style:{backgroundColor:N.checked?N.color:"#aaa"}}),t.a.createElement("span",{className:S.legendTitle},N.x),t.a.createElement(Ve.a,{type:"vertical"}),t.a.createElement("span",{className:S.percent},"".concat((Number.isNaN(N.percent)?0:N.percent*100).toFixed(2),"%")),t.a.createElement("span",{className:S.value},i?i(N.y):N.y))})))}}]),c}(B.Component),Ae=A()(Ze),qe=l("ODXe"),et={tagCloud:"tagCloud___35SA0"},tt="https://gw.alipayobjects.com/zos/rmsportal/gWyeGLCdFFRavBGIDzWk.png",at=function(f){Object(x.a)(c,f);var n=Object(W.a)(c);function c(){var e;Object($.a)(this,c);for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];return e=n.call.apply(n,[this].concat(u)),e.state={dv:null,height:0,width:0},e.isUnmount=!1,e.requestRef=0,e.root=void 0,e.imageMask=void 0,e.resize=function(){e.requestRef=requestAnimationFrame(function(){e.renderChart(e.props)})},e.saveRootRef=function(i){e.root=i},e.initTagCloud=function(){function i(s){return Object(Q.a)(Object(Q.a)({},s.style),{},{fillOpacity:s.opacity,fontSize:s.origin._origin.size,rotate:s.origin._origin.rotate,text:s.origin._origin.text,textAlign:"center",fontFamily:s.origin._origin.font,fill:s.color,textBaseline:"Alphabetic"})}d.Shape.registerShape("point","cloud",{drawShape:function(h,m){var _=i(h);return m.addShape("text",{attrs:Object(Q.a)(Object(Q.a)({},_),{},{x:h.x,y:h.y})})}})},e.renderChart=F()(function(i){var s=i||e.props,h=s.data,m=s.height;if(h.length<1||!e.root)return;var _=m,r=e.root.offsetWidth,E=function(){var v=new Le.a.View().source(h),C=v.range("value"),O=Object(qe.a)(C,2),U=O[0],P=O[1];if(v.transform({type:"tag-cloud",fields:["name","value"],imageMask:e.imageMask,font:"Verdana",size:[r,_],padding:0,timeInterval:5e3,rotate:function(){return 0},fontSize:function(y){var b=Math.pow((y.value-U)/(P-U),2);return b*(17.5-5)+5}}),e.isUnmount)return;e.setState({dv:v,width:r,height:_})};e.imageMask?E():(e.imageMask=new Image,e.imageMask.crossOrigin="",e.imageMask.src=tt,e.imageMask.onload=E)},500),e}return Object(D.a)(c,[{key:"componentDidMount",value:function(){var a=this;requestAnimationFrame(function(){a.initTagCloud(),a.renderChart(a.props)}),window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentDidUpdate",value:function(a){var u=this.props.data;a&&JSON.stringify(a.data)!==JSON.stringify(u)&&this.renderChart(this.props)}},{key:"componentWillUnmount",value:function(){this.isUnmount=!0,window.cancelAnimationFrame(this.requestRef),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var a=this.props,u=a.className,o=a.height,i=this.state,s=i.dv,h=i.width,m=i.height;return t.a.createElement("div",{className:ue()(et.tagCloud,u),style:{width:"100%",height:o},ref:this.saveRootRef},s&&t.a.createElement(d.Chart,{width:h,height:m,data:s,padding:0,scale:{x:{nice:!1},y:{nice:!1}}},t.a.createElement(d.Tooltip,{showTitle:!1}),t.a.createElement(d.Coord,{reflect:"y"}),t.a.createElement(d.Geom,{type:"point",position:"x*y",color:"text",shape:"cloud",tooltip:["text*value",function(r,E){return{name:r,value:E}}]})))}}]),c}(B.Component),nt=A()(at),Ne=l("KQm4"),rt=l("1Gbu"),ot=l.n(rt),it={timelineChart:"timelineChart___3TShV"},st=function(n){var c=n.title,e=n.height,a=e===void 0?400:e,u=n.padding,o=u===void 0?[60,20,40,40]:u,i=n.titleMap,s=i===void 0?{y1:"y1",y2:"y2"}:i,h=n.borderWidth,m=h===void 0?2:h,_=n.data,r=Array.isArray(_)?_:[{x:0,y1:0,y2:0}];r.sort(function(P,g){return P.x-g.x});var E;r[0]&&r[0].y1&&r[0].y2&&(E=Math.max(Object(Ne.a)(r).sort(function(P,g){return g.y1-P.y1})[0].y1,Object(Ne.a)(r).sort(function(P,g){return g.y2-P.y2})[0].y2));var p=new Le.a({state:{start:r[0].x,end:r[r.length-1].x}}),v=p.createView();v.source(r).transform({type:"filter",callback:function(g){var y=g.x;return y<=p.state.end&&y>=p.state.start}}).transform({type:"map",callback:function(g){var y=Object(Q.a)({},g);return y[s.y1]=g.y1,y[s.y2]=g.y2,y}}).transform({type:"fold",fields:[s.y1,s.y2],key:"key",value:"value"});var C={type:"time",tickInterval:60*60*1e3,mask:"HH:mm",range:[0,1]},O={x:C,value:{max:E,min:0}},U=function(){return t.a.createElement(ot.a,{padding:[0,o[1]+20,0,o[3]],width:"auto",height:26,xAxis:"x",yAxis:"y1",scales:{x:C},data:r,start:p.state.start,end:p.state.end,backgroundChart:{type:"line"},onChange:function(y){var b=y.startValue,w=y.endValue;p.setState("start",b),p.setState("end",w)}})};return t.a.createElement("div",{className:it.timelineChart,style:{height:a+30}},t.a.createElement("div",null,c&&t.a.createElement("h4",null,c),t.a.createElement(d.Chart,{height:a,padding:o,data:v,scale:O,forceFit:!0},t.a.createElement(d.Axis,{name:"x"}),t.a.createElement(d.Tooltip,null),t.a.createElement(d.Legend,{name:"key",position:"top"}),t.a.createElement(d.Geom,{type:"line",position:"x*value",size:m,color:"key"})),t.a.createElement("div",{style:{marginRight:-20}},t.a.createElement(U,null))))},We=A()(st),ye={waterWave:"waterWave___3-6x_",text:"text___dvEDG",waterWaveCanvasWrapper:"waterWaveCanvasWrapper___2uNIJ"},lt=function(f){Object(x.a)(c,f);var n=Object(W.a)(c);function c(){var e;Object($.a)(this,c);for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];return e=n.call.apply(n,[this].concat(u)),e.state={radio:1},e.timer=0,e.root=null,e.node=null,e.resize=function(){if(e.root){var i=e.props.height,s=i===void 0?1:i,h=e.root.parentNode,m=h.offsetWidth;e.setState({radio:m<s?m/s:1})}},e}return Object(D.a)(c,[{key:"componentDidMount",value:function(){var a=this;this.renderChart(),this.resize(),window.addEventListener("resize",function(){requestAnimationFrame(function(){return a.resize()})},{passive:!0})}},{key:"componentDidUpdate",value:function(a){var u=this.props.percent;a.percent!==u&&this.renderChart("update")}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.timer),this.node&&(this.node.innerHTML=""),window.removeEventListener("resize",this.resize)}},{key:"renderChart",value:function(a){var u=this.props,o=u.percent,i=u.color,s=i===void 0?"#1890FF":i,h=o/100,m=this;if(cancelAnimationFrame(this.timer),!this.node||h!==0&&!h)return;var _=this.node,r=_.getContext("2d");if(!r)return;var E=_.width,p=_.height,v=E/2,C=2,O=v-C;r.beginPath(),r.lineWidth=C*2;for(var U=E-C,P=U/8,g=.2,y=g,b=C,w=0,z=0,Z=.005,I=[],ee=v-C,me=-(Math.PI/2),_e=!0,te=me;te<me+2*Math.PI;te+=1/(8*Math.PI))I.push([v+ee*Math.cos(te),v+ee*Math.sin(te)]);var J=I.shift();r.strokeStyle=s,r.moveTo(J[0],J[1]);function Ce(){if(!r)return;r.beginPath(),r.save();for(var q=[],H=b;H<=b+U;H+=20/U){var oe=w+(b+H)/P,V=Math.sin(oe)*y,G=H,Y=2*O*(1-z)+(v-O)-P*V;r.lineTo(G,Y),q.push([G,Y])}var pe=q.shift();r.lineTo(b+U,p),r.lineTo(b,p),r.lineTo(pe[0],pe[1]);var ae=r.createLinearGradient(0,0,0,p);ae.addColorStop(0,"#ffffff"),ae.addColorStop(1,s),r.fillStyle=ae,r.fill(),r.restore()}function re(){if(!r)return;if(r.clearRect(0,0,E,p),_e&&a!=="update")if(I.length){var q=I.shift();r.lineTo(q[0],q[1]),r.stroke()}else _e=!1,r.lineTo(J[0],J[1]),r.stroke(),I=[],r.globalCompositeOperation="destination-over",r.beginPath(),r.lineWidth=C,r.arc(v,v,ee,0,2*Math.PI,!0),r.beginPath(),r.save(),r.arc(v,v,v-3*C,0,2*Math.PI,!0),r.restore(),r.clip(),r.fillStyle=s;else{if(h>=.85){if(y>g/4){var H=g*.01;y-=H}}else if(h<=.1){if(y<g*1.5){var oe=g*.01;y+=oe}}else{if(y<=g){var V=g*.01;y+=V}if(y>=g){var G=g*.01;y-=G}}h-z>0&&(z+=Z),h-z<0&&(z-=Z),w+=.07,Ce()}m.timer=requestAnimationFrame(re)}re()}},{key:"render",value:function(){var a=this,u=this.state.radio,o=this.props,i=o.percent,s=o.title,h=o.height,m=h===void 0?1:h;return t.a.createElement("div",{className:ye.waterWave,ref:function(r){return a.root=r},style:{transform:"scale(".concat(u,")")}},t.a.createElement("div",{style:{width:m,height:m,overflow:"hidden"}},t.a.createElement("canvas",{className:ye.waterWaveCanvasWrapper,ref:function(r){return a.node=r},width:m*2,height:m*2})),t.a.createElement("div",{className:ye.text,style:{width:m}},s&&t.a.createElement("span",null,s),t.a.createElement("h4",null,i,"%")))}}]),c}(B.Component),dt=A()(lt),Fe=function(n){return"\xA5 ".concat(ne()(n).format("0,0"))},pt={yuan:Fe,Bar:le,Pie:Ae,Gauge:Xe,MiniBar:Me,MiniArea:Te,MiniProgress:be,ChartCard:Re,Field:xe,WaterWave:dt,TagCloud:nt,TimelineChart:We}}}]);
